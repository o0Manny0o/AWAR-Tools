FROM denoland/deno:2.0.6

ARG LANG_PATH
ARG TRANSLATION_TYPES_PATH

ENV LANG_PATH $LANG_PATH
ENV TRANSLATION_TYPES_PATH $TRANSLATION_TYPES_PATH

WORKDIR /app

COPY . .

RUN deno task build

USER deno
EXPOSE 8000

CMD ["run", "-A", "main.ts"]